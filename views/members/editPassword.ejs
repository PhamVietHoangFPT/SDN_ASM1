<%- include('../layouts/header') %>
  <% if (error) { %>
    <p style="color: red">
      <%= error %>
    </p>
    <% } %>
      <form action="changePassword" method="POST">
        <label for="oldPassword">Old Password</label>
        <input type="password" name="oldPassword" id="oldPassword" required />
        <br>
        <label for="newPassword">New Password</label>
        <input type="password" name="newPassword" id="newPassword" required />
        <br>
        <label for="confirmPassword">Confirm Password</label>
        <input type="password" name="confirmPassword" id="confirmPassword" required />
        <br>
        <p id="error-message" style="color: red; display: none;">Passwords do not match!</p>

        <button type="submit">Change Password</button>
      </form>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const form = document.querySelector("form");
          const errorMessage = document.getElementById("error-message");

          form.addEventListener("submit", function (event) {
            const newPassword = document.getElementById("newPassword").value;
            const confirmPassword = document.getElementById("confirmPassword").value;

            if (newPassword !== confirmPassword) {
              event.preventDefault(); // Chặn gửi form
              errorMessage.style.display = "block"; // Hiển thị lỗi
            } else {
              errorMessage.style.display = "none"; // Ẩn lỗi nếu đúng
            }
          });
        });
      </script>

      <%- include('../layouts/footer') %>